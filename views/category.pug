extends side-nav-sublayout


append head
    //- Converts date from SQL format to something easier to read and more aesthatic
    -function formatDate(dateString){
    -var date = new Date(dateString);
    -var d = date.getDate();
    -var monthNames = [ "Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec" ];
    -var m = monthNames[date.getMonth()];
    -var y = date.getFullYear();
    -return d+' '+m+' '+y;
    -}
    //- Styling changes for the feed boxes
    style(type='text/css').
        .social-feed-box {
            padding: 15px;
            border: 2px solid #e7eaec;
            background: var(--colour-primary);
            margin-bottom: 15px;
        }

        .dropdown {
            display: inline-block;
            position: relative;
        }

        .dropdown-content a {
            color: black;
            padding: 12px 16px;
            text-decoration: none;
            display: block;
        }

        .dropdown-content {
            display: none;
            position: absolute;
            background-color: #f1f1f1;
            min-width: 160px;
            box shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.2);
            z-index: 1;
        }

        .dropdown-content a:hover {
            background-color: #ddd;
        }

        .dropdown:hover .dropdown-content {
            display: block;
        }

        .dropdown:hover .dropbtn {
            background-color: #3e8e41;
        }

block primary
    if found
        ul
            //- Container for feed posts.
            div(class='container-xl')
                h1(style="text-align:center") #{categoryName} content
                each item in posts
                    include PostBasic
                p Displaying page #{currentPage} of #{totalPages}
                nav(aria-label='Page navigation example')
                    ul.pagination
                        if currentPage > 1
                            li.page-item
                                a.page-link(href=prev_page) Previous
                        if currentPage < totalPages
                            li.page-item
                                a.page-link(href=next_page) Next
    else
        h1 Category not found
