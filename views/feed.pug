extends layout

//- Not in use, may be used in future. Need to add lookup function for post id or title
append head
  link(rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous")
  script(type='application/javascript' src='javascripts/confirm-delete.js')
  script(src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous")
  - var content = doc;
  -function prettyDate(dateString){
    //if it's already a date object and not a string you don't need this line:
    -var date = new Date(dateString);
    -var d = date.getDate();
    -var monthNames = [ "Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec" ];
    -var m = monthNames[date.getMonth()];
    -var y = date.getFullYear();
    -return d+' '+m+' '+y;
    -}
  style(type='text/css').
    .social-feed-box {
      padding: 15px;
      border: 1px solid #e7eaec;
      background: #fff;
      margin-bottom: 15px;
      
    }

block content
    
  div(class='container-fluid' style='aligh:center')
    br
    h1 Feed
    br
    
  div(class='container-xl')
    each item in results
      div(class='social-feed-box')
        
        div(class='media-body')
          h2= item.title
          small(class='text-muted') #{prettyDate(item.created_on)}
        hr
        div(class='social-body')
          | !{item.html}
