extends side-nav-sublayout

append head
  style(type='text/css').
    .social-feed-box {
      padding: 15px;
      border: 1px solid #e7eaec;
      background: #fff;
      margin-bottom: 15px;  
    }
    
    .dropdown {
      display: inline-block;
      position: relative;
    }
    
    .dropdown-content a {
        color: black;
        padding: 12px 16px;
        text-decoration: none;
        display: block;
    }
    
    .dropdown-content {
      display: none;
      position: absolute;
      background-color: #f1f1f1;
      min-width: 160px;
      box shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
      z-index: 1;
    }
    
    .dropdown-content a:hover {background-color: #ddd;}

    .dropdown:hover .dropdown-content {display: block;}

    .dropdown:hover .dropbtn {background-color: #3e8e41;}

block primary
    
  //- Container for page title
  div(class='container-fluid')
    br
    h1 Feed
    br

  //- Container for feed posts.
  div(class='container-xl')
    each item in results
      //- container for single post
      div(class='social-feed-box')
        //- container for title and publish time
        div(class='media-body d-flex justify-content-between align-items-center')
          div(class='mr-2')
            h2= item.title
            small(class='text-muted') #{formatDate(item.created_on)}
          div(class="dropdown")
            button(type='button' class='btn btn-light dropdown-toggle btn-sm' id='dropdownButton' data-toggle='dropdown')
            div(class='dropdown-content')
              a(class='dropdown-item' href='/edit/'+item.id) Edit
              a(class='dropdown-item' href='#') Hide
        hr
        //- Container for post body ( '|' tells pug to use accept raw HTML which the posts are saved as)
        div(class='social-body')
          | !{item.html}
